
<!DOCTYPE html>
<html lang="" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JLOVEJ&#39;s blog - 欢迎来到pun6py的第一个博客</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="云主机一台（腾讯云、阿里云、海外云都可以）
我用Windows SERVER 2016 系统图形化方便管理

需要安装的软件1.phpStudy （因为web漏洞靶场大多数都是基于PHP+Mysql,"> 
    <meta name="author" content="pjun6py"> 
    <link rel="alternative" href="atom.xml" title="JLOVEJ&#39;s blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>
</html>
<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">LAMP环境搭建WordPress博客</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">LAMP环境搭建WordPress博客</h1>
        <div class="stuff">
            <span>十二月 05, 2018</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/作者：我想静静-Ubuntu-WordPress/">作者：我想静静 | Ubuntu | WordPress</a></li></ul>


        </div>
        <div class="content markdown">
            <hr>
<h2 id="Ubuntu-Server-18-04-1-LTS-搭建-WordPress"><a href="#Ubuntu-Server-18-04-1-LTS-搭建-WordPress" class="headerlink" title="Ubuntu Server 18.04.1 LTS 搭建 WordPress"></a>Ubuntu Server 18.04.1 LTS 搭建 WordPress</h2><h4 id="！注意-安装配置过程都是在root用户下进行，如果在普通用户下安装，需要在命令前加sudo，如-sudo-apt-install-apache2"><a href="#！注意-安装配置过程都是在root用户下进行，如果在普通用户下安装，需要在命令前加sudo，如-sudo-apt-install-apache2" class="headerlink" title="！注意 安装配置过程都是在root用户下进行，如果在普通用户下安装，需要在命令前加sudo，如 sudo apt install apache2"></a><code>！注意</code> 安装配置过程都是在root用户下进行，如果在普通用户下安装，需要在命令前加<code>sudo</code>，如 <code>sudo apt install apache2</code></h4><h2 id="一、检查更新"><a href="#一、检查更新" class="headerlink" title="一、检查更新"></a>一、检查更新</h2><ul>
<li><h4 id="apt-update"><a href="#apt-update" class="headerlink" title="apt update"></a><code>apt update</code></h4></li>
<li><h4 id="apt-upgrade"><a href="#apt-upgrade" class="headerlink" title="apt upgrade"></a><code>apt upgrade</code></h4></li>
</ul>
<blockquote>
<p>apt update  #只检查，不更新<br>apt upgrade #更新已安装的软件包</p>
</blockquote>
<h2 id="二、安装-Apache"><a href="#二、安装-Apache" class="headerlink" title="二、安装 Apache"></a>二、安装 Apache</h2><ol>
<li><h4 id="安装apache服务："><a href="#安装apache服务：" class="headerlink" title="安装apache服务："></a>安装apache服务：</h4></li>
</ol>
<ul>
<li><h4 id="apt-install-apache2"><a href="#apt-install-apache2" class="headerlink" title="apt install apache2"></a><code>apt install apache2</code></h4></li>
</ul>
<ol start="2">
<li><h4 id="启动apache服务"><a href="#启动apache服务" class="headerlink" title="启动apache服务:"></a>启动apache服务:</h4></li>
</ol>
<ul>
<li><h4 id="service-apache2-start"><a href="#service-apache2-start" class="headerlink" title="service apache2 start"></a><code>service apache2 start</code></h4></li>
</ul>
<blockquote>
<p>apt install apache2 #安装apache2软件包<br>service apache2 start #启动apache服务</p>
</blockquote>
<h2 id="三、安装-MySQL"><a href="#三、安装-MySQL" class="headerlink" title="三、安装 MySQL"></a>三、安装 MySQL</h2><ol>
<li><h4 id="安装mysql命令"><a href="#安装mysql命令" class="headerlink" title="安装mysql命令:"></a>安装mysql命令:</h4></li>
</ol>
<ul>
<li><h4 id="apt-install-mysql"><a href="#apt-install-mysql" class="headerlink" title="apt install mysql*"></a><code>apt install mysql*</code></h4></li>
</ul>
<blockquote>
<p>apt install mysql*</p>
</blockquote>
<ol start="2">
<li><h4 id="设置mysql的root用户密码"><a href="#设置mysql的root用户密码" class="headerlink" title="设置mysql的root用户密码:"></a>设置mysql的root用户密码:</h4></li>
</ol>
<blockquote>
<ul>
<li>在ubuntu中刚安装好的mysql默认是没有root密码的，在这里要设置root用户的密码，因为在后面配置wordpress时会用到root密码</li>
<li>用mysqladmin -u root password “password”设置root用户密码会报错，并且设置失败。下面给出报错信息和解决方法</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# mysqladmin -u root password &quot;password&quot;</span><br><span class="line">mysqladmin: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Warning: Since password will be sent to server in plain text, use ssl connection to ensure password safety.</span><br><span class="line">root@ubuntu:~#</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解决方法：</p>
<ol>
<li>service mysql stop</li>
<li>mkdir -p /var/run/mysqld</li>
<li>chown mysql:mysql /var/run/mysqld</li>
<li>/usr/bin/mysqld_safe --skip-grant-tables --skip-networking</li>
<li>再开启一个终端, 在新的终端中执行下面命令</li>
<li>mysql -u root</li>
<li>use mysql;</li>
<li>update user set authentication_string=PASSWORD(“<code>这里输入要设置的密码</code>“) where user=’root’;</li>
<li>update user set plugin=”mysql_native_password”;</li>
<li>flush privileges;</li>
<li>exit</li>
</ol>
</blockquote>
<h2 id="四、安装-PHP"><a href="#四、安装-PHP" class="headerlink" title="四、安装 PHP"></a>四、安装 PHP</h2><ul>
<li><h4 id="安装php命令："><a href="#安装php命令：" class="headerlink" title="安装php命令："></a>安装php命令：</h4></li>
<li><h4 id="apt-install-php7"><a href="#apt-install-php7" class="headerlink" title="apt install php7*"></a><code>apt install php7*</code></h4></li>
</ul>
<blockquote>
<p>apt install php7*</p>
</blockquote>
<h2 id="五、下载并部署-WordPress"><a href="#五、下载并部署-WordPress" class="headerlink" title="五、下载并部署 WordPress"></a>五、下载并部署 WordPress</h2><h4 id="1-下载：wget-https-cn-wordpress-org-wordpress-4-9-4-zh-CN-tar-gz"><a href="#1-下载：wget-https-cn-wordpress-org-wordpress-4-9-4-zh-CN-tar-gz" class="headerlink" title="1. 下载：wget https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz"></a>1. 下载：<code>wget https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz</code></h4><blockquote>
<p>wget <a href="https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz" target="_blank" rel="noopener">https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz</a></p>
</blockquote>
<h4 id="2-把wordpress-4-9-4-zh-CN-tar-gz压缩包解压到-var-www-html-目录下"><a href="#2-把wordpress-4-9-4-zh-CN-tar-gz压缩包解压到-var-www-html-目录下" class="headerlink" title="2. 把wordpress-4.9.4-zh_CN.tar.gz压缩包解压到/var/www/html/目录下"></a>2. 把<code>wordpress-4.9.4-zh_CN.tar.gz</code>压缩包解压到<code>/var/www/html/</code>目录下</h4><ul>
<li><h4 id="tar-xzvf-wordpress-4-9-4-zh-CN-tar-gz-C-var-www-html"><a href="#tar-xzvf-wordpress-4-9-4-zh-CN-tar-gz-C-var-www-html" class="headerlink" title="tar -xzvf wordpress-4.9.4-zh_CN.tar.gz -C /var/www/html/"></a><code>tar -xzvf wordpress-4.9.4-zh_CN.tar.gz -C /var/www/html/</code></h4></li>
</ul>
<blockquote>
<ul>
<li>在解压目标目录<code>/var/www/html</code>前需要加参数 <code>-C</code></li>
<li>tar -xzvf wordpress-4.9.4-zh_CN.tar.gz -C /var/www/html</li>
<li>或者先把wordpress-4.9.4-zh_CN.tar.gz移动到/var/www/html/下，然后再进行解压</li>
</ul>
</blockquote>
<h4 id="3-在浏览器中访问-wordpress"><a href="#3-在浏览器中访问-wordpress" class="headerlink" title="3.在浏览器中访问 wordpress"></a>3.在浏览器中访问 wordpress</h4><blockquote>
<ul>
<li><p><a href="http://192.168.17.139/wordpress" target="_blank" rel="noopener">http://192.168.17.139/wordpress</a><br>进入wordpress配置页面</p>
</li>
<li><p>出现问题：<br>页面只显示php源码，没有显示页面效果</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Front to the WordPress application. This file doesn't do anything, but loads</span></span><br><span class="line"><span class="comment"> * wp-blog-header.php which does and tells WordPress to load the theme.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@package</span> WordPress</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Tells WordPress to load the WordPress theme and output it.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@var</span> bool</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">define(<span class="string">'WP_USE_THEMES'</span>, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Loads the WordPress Environment and Template */</span></span><br><span class="line"><span class="keyword">require</span>( dirname( <span class="keyword">__FILE__</span> ) . <span class="string">'/wp-blog-header.php'</span> );</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>问题原因：<br>没有安装php对apache的libapache2-mod-php7.2文件      </li>
<li>解决方法：<br>查询并且安装libapache2-mod-php7.2文件<br><code>apt search apache2 | grep php</code><br><code>apt install libapache2-mod-php7.2</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;root@ubuntu:~# apt search apache2 | grep php</span><br><span class="line">&gt;</span><br><span class="line">&gt;WARNING: apt does not have a stable CLI interface. Use with caution in scripts.</span><br><span class="line">&gt;</span><br><span class="line">&gt;libapache2-mod-php/bionic 1:7.2+60ubuntu1 all</span><br><span class="line">&gt;libapache2-mod-php7.2/bionic-security,bionic-updates 7.2.10-0ubuntu0.18.04.1 amd64</span><br><span class="line">&gt;root@ubuntu:~# apt install libapache2-mod-php7.2</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="4-配置-wordpress"><a href="#4-配置-wordpress" class="headerlink" title="4. 配置 wordpress"></a>4. 配置 wordpress</h4><blockquote>
<ul>
<li>第一步：配置wordpress之前先创建所需的数据库wordpress<br>mysql -u root -p<br>create database wordpress;<br>exit<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;mysql -u root -p</span><br><span class="line">&gt;</span><br><span class="line">&gt;mysql&gt; create database wordpress;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>第二步：配置数据库连接信息<br>数据库名：wordpress<br>用户名：用户名<br>密码：密码<br>数据库主机：localhost<br>表前缀：wp_<br>这里的用户名为root，密码就是上面第三步安装MySQL时设置root密码，其它选项都是默认的<br>提交<br>现在安装</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>第三步：填写基本信息<br>站点标题：（网站的名称）<br>用户名：（后台管理员的用户名）<br>密码：（后台管理员的密码）<br>邮件地址：（随便一个邮箱地址 ）<br>安装WordPress</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>第四步：安装完成，登录后台<br>输入用户名密码就可以进入wordpress后台进行管理</li>
</ul>
</blockquote>
<h2 id="六、其它问题"><a href="#六、其它问题" class="headerlink" title="六、其它问题"></a>六、其它问题</h2><h4 id="1-权限问题"><a href="#1-权限问题" class="headerlink" title="1. 权限问题"></a>1. 权限问题</h4><blockquote>
<ul>
<li>有时会因为wordpress目录及子目录文件的权限问题而无法访问</li>
<li>解决方法：<br>将wordpress目录权限设为777<br>chmod -R 777 wordpress</li>
</ul>
</blockquote>
<hr>
<h2 id="CentOS-7-搭建-WordPress"><a href="#CentOS-7-搭建-WordPress" class="headerlink" title="CentOS 7 搭建 WordPress"></a>CentOS 7 搭建 WordPress</h2><hr>
<p>待更新。。。            2018年12月6日01:37:51</p>
<hr>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci="" data-cs="" data-r="" data-o="" data-a="" data-d="false">查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>